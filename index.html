<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch Race</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

<script>
    // Function to start the race
    function startRace() {
        // Nightbot response for starting the race
        $.post('http://127.0.0.1:5000/start-race', function(response) {
            $(document.body).trigger("addMessage", { message: response.message });
        });
    }

    // Function to add a participant to the race
    function addParticipant(username) {
        // Nightbot response for adding a participant
        $.post('http://127.0.0.1:5000/add-participant', { username: username }, function(response) {
            $(document.body).trigger("addMessage", { message: response.message });
        });
    }

    // Function to end the race and select a winner
    function endRace() {
        // Nightbot response for ending the race
        $.post('http://127.0.0.1:5000/end-race', function(response) {
            $(document.body).trigger("addMessage", { message: response.message });
        });
    }

    // Expose functions to Nightbot commands
    window.startRace = startRace;
    window.addParticipant = addParticipant;
    window.endRace = endRace;
</script>

</body>
</html>
